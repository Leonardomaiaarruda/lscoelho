:root { 
    --primary-green: #2e7d32; 
}

body { 
    font-family: 'Arial', sans-serif; 
    background: #525659; 
    margin: 0; 
    padding: 0; 
}

.page {     
    width: 297mm; 
    height: 209mm; 
    padding: 5mm; 
    margin: 10mm auto; 
    background: white; 
    box-sizing: border-box; 
    position: relative;
    overflow: hidden; 
}

/* Configura√ß√µes de Impress√£o */
@media print {
    * {
        -webkit-print-color-adjust: exact !important;
        print-color-adjust: exact !important;
        box-shadow: none !important;
        text-shadow: none !important;
        transition: none !important;
    }
    @page { 
        size: landscape; 
        margin: 0; 
    }
    body { background: none; }
    .page { 
        margin: 0; 
        border: none;
        page-break-after: always; 
    }
    .page-break { margin-top: 0; }
    .no-print { display: none; }

    
}

.border-container { 
    border: 2px solid black; 
    height: 98%; 
    padding: 2px; 
    box-sizing: border-box; 
    display: flex; 
    flex-direction: column; 
}

/* Cabe√ßalho */
.header { 
    display: flex; 
    align-items: center; 
    border-bottom: 2px solid black; 
    padding-bottom: 5px; 
}

.logo-area { 
    width: 25%; 
    text-align: center; 
    border-right: 2px solid black; 
}

.logo-area img { width: 100%; }

.company-info { 
    width: 55%; 
    padding-left: 15px; 
    font-size: 11px; 
    line-height: 1.2; 
    border-right: 2px solid black; 
}

.foto-area { 
    width: 30%; 
    display: flex; 
    justify-content: center; 
    align-items: center; 
    gap: 15px; 
}

.foto-3x4 { 
    width: 30mm; 
    height: 40mm; 
    border: 1px solid black; 
    background: #f0f0f0; 
    display: flex; 
    align-items: center; 
    justify-content: center; 
    overflow: hidden; 
}

.foto-3x4 img { 
    width: 100%; 
    height: 100%; 
    object-fit: cover; 
}

.title-bar { 
    background: var(--primary-green); 
    color: white; 
    text-align: center; 
    padding: 5px; 
    font-weight: bold; 
    font-size: 13px; 
    margin: 5px 0; 
}

/* Conte√∫do e Legisla√ß√£o */
.content-flex { 
    display: flex; 
    gap: 15px; 
    flex-grow: 1; 
    overflow: hidden; 
    margin-top: 5px; 
}

.termo-box { 
    width: 50%; 
    font-size: 16px; 
    text-align: justify; 
    line-height: 1.3; 
    border-right: 1px solid #ccc; 
    padding-right: 10px; 
}

.legislacao-box { 
    width: 50%; 
    font-size: 19px; 
    text-align: justify; 
    line-height: 1.2; 
}

.section-title { 
    font-weight: bold; 
    text-align: center; 
    display: block; 
    margin-bottom: 4px; 
    text-decoration: underline; 
}

.clt-highlight { 
    background: #fffde7; 
    padding: 5px; 
    border: 1px solid #d4d4d4; 
    margin-top: 5px; 
    font-weight: bold; 
    font-size: 10px; 
}

/* Rodap√© e Assinatura */
.footer { 
    display: flex; 
    justify-content: space-between; 
    align-items: flex-end; 
    padding: 10px 20px; 
    gap: 20px;
}

.ciente-box {
    width: 30%;
    font-size: 12px;
}

.sig-container {
    width: 50%;
    text-align: center;
    display: flex;
    flex-direction: column;
    align-items: center;
}

.sig-line {
    border-top: 1.5px solid black;
    width: 100%;
    margin-bottom: 5px;
}

#nome-assinatura {
    font-size: 13px;
    font-weight: bold;
    text-transform: uppercase;
}

/* Interface de Controle (N√£o sai na impress√£o) */
.no-print { 
    background: #1e272e; 
    color: white; 
    padding: 15px; 
    text-align: center; 
}

/* Grid de Dados do Colaborador */
.data-grid { 
    display: grid; 
    grid-template-columns: 1fr 1fr; 
    border-top: 2px solid black;
    border-left: 2px solid black;
    margin-bottom: 8px;
}

.grupo-tree { display: flex; }
.grupo-tree .cell { width: 100%; }

.cell { 
    border-right: 2px solid black; 
    border-bottom: 2px solid black; 
    padding: 2px; 
    display: flex; 
    align-items: center; 
    gap: 10px; 
    height: 25px;
}

.label { 
    font-weight: bold; 
    font-size: 10px; 
    white-space: nowrap; 
}

input { 
    flex: 1; 
    border: none; 
    font-size: 13px; 
    font-weight: bold; 
    outline: none; 
    height: 100%; 
    padding: 0 5px;
}

/* Cores espec√≠ficas dos campos */
#c-nome, #c2-nome { width: 100%; background-color: black; color: white; text-align: center; }
#c-funcao, #c2-funcao { background-color: red; color: black; }
#c-setor, #c2-setor { background-color: black; color: white; }

/* Tabela de EPIs (P√°gina 2) */
.page-break { page-break-before: always; margin-top: 30px; }

.epi-container {
    border: 2px solid black;
    padding: 5px;
    height: 100%;
    display: flex;
    flex-direction: column;
}

.epi-table {
    display: grid;
    grid-template-columns: 80px 100px 250px 50px 120px 80px 100px 1fr;
    border-top: 2px solid black;
    border-left: 2px solid black;
    margin-top: 10px;
    background-color: white;
    width: 100%;
    box-sizing: border-box;
}

.epi-header {
    background-color: #d3d3d3;
    color: black;
    font-weight: bold;
    font-size: 10px;
    text-align: center;
    border-right: 1px solid black;
    border-bottom: 2px solid black;
    padding: 6px 2px;
    display: flex;
    align-items: center;
    justify-content: center;
    text-transform: uppercase;
}

.epi-item {
    border-right: 1px solid black;
    border-bottom: 1px solid black;
    padding: 0px;
    font-size: 10px;
    min-height: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.epi-item select, .epi-item input {
    width: 100%;
    height: 100%;
    border: none;
    background: transparent !important;
    font-size: 9px;
    text-align: center;
    outline: none;
}

.epi-item input.text-left {
    text-align: left;
    padding-left: 5px;
}

/* Zebrado da tabela */
.epi-item:nth-of-type(16n+9), 
.epi-item:nth-of-type(16n+10), 
.epi-item:nth-of-type(16n+11), 
.epi-item:nth-of-type(16n+12), 
.epi-item:nth-of-type(16n+13), 
.epi-item:nth-of-type(16n+14), 
.epi-item:nth-of-type(16n+15), 
.epi-item:nth-of-type(16n+16) {
    background-color: #f2f2f2 !important;
}


/* --- RESET E VARI√ÅVEIS --- */
:root {
    --primary-green: #2e7d32;
    --dark-panel: #1e272e;
}

/* --- INTERFACE DE CONTROLE (NO-PRINT) --- */
.no-print {
    background: var(--dark-panel);
    padding: 15px;
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    justify-content: center;
    position: sticky    ;
    top: 0;
    z-index: 9999;
}

.no-print input, .no-print select, .no-print button {
    height: 45px;
    border-radius: 8px;
    border: 1px solid #3d4d5a;
    background: #2c3e50;
    color: white;
    padding: 0 12px;
    font-size: 14px;
}

.no-print button {
    background: var(--primary-green);
    font-weight: bold;
    border: none;
    cursor: pointer;
}



.border-container {
    position: relative; /* Necess√°rio para posicionar a logo atr√°s */
    z-index: 1;
}

.border-container::before {
    content: "";
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%); /* Centraliza perfeitamente */
    width: 1000px; /* Tamanho da logo no fundo */
    height: 1000px;
    background-image: url('./uploads/logo.png'); /* Caminho da sua logo */
    background-repeat: no-repeat;
    background-position: center;
    background-size: contain;
    opacity: 0.1; /* Deixa a logo bem clarinha (0.1 a 0.2 √© o ideal) */
    z-index: -1; /* Joga para tr√°s de todo o texto e inputs */
    pointer-events: none; /* Garante que ela n√£o atrapalhe os cliques nos campos */
}


.modal-overlay {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background: rgba(0,0,0,0.7); z-index: 10000;
    display: flex; justify-content: center; align-items: center;
}
.modal-content {
    background: white; padding: 20px; border-radius: 12px;
    width: 90%; max-width: 500px; color: black; box-shadow: 0 10px 25px rgba(0,0,0,0.5);
}
.modal-header { display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #ddd; margin-bottom: 10px; }
.modal-body { font-size: 14px; line-height: 1.6; max-height: 400px; overflow-y: auto; }
.info-item { margin-bottom: 8px; border-bottom: 1px solid #f0f0f0; padding-bottom: 4px; }
.info-label { font-weight: bold; color: var(--primary-green); }






/* Ajuste espec√≠fico para os campos ficarem transparentes e a logo aparecer */

/* --- COMPORTAMENTO NO MOBILE (SOLU√á√ÉO DEFINITIVA) --- */
@media (max-width: 768px) {
    /* 1. Esconde a ficha t√©cnica complexa que quebra o layout */
    .page {
        display: none !important; 
    }

    /* 2. Cria um aviso ou modo de exibi√ß√£o simples para confer√™ncia */
    body::after {
        content: "üìÑ Modo de Visualiza√ß√£o Mobile: Selecione o colaborador acima. A ficha completa ser√° gerada no bot√£o IMPRIMIR.";
        display: block;
        padding: 40px 20px;
        color: white;
        text-align: center;
        font-weight: bold;
        line-height: 1.6;
    }

    /* 3. Ajusta os controles para ocupar a tela toda */
    .no-print {
        flex-direction: column;
        height: auto;
    }
    
    .no-print > * {
        width: 100% !important;
    }

    /* 4. Mostra apenas os campos essenciais para confer√™ncia se desejar */
    body {
        background: #2f3542;
        overflow-x: hidden;
    }
}



/* MODO REIMPRESS√ÉO: Mant√©m o papel A4, mas limpa o desenho */
.modo-fantasma {
    background: white !important; /* Mant√©m o fundo da folha branco */
    border: 1px dashed #ccc !important; /* Uma borda fina s√≥ para voc√™ ver o limite da folha na tela */
}

/* Esconde todas as bordas de tabelas, c√©lulas e containers */
.modo-fantasma, 
.modo-fantasma .border-container, 
.modo-fantasma .epi-table, 
.modo-fantasma .epi-item, 
.modo-fantasma .cell, 
.modo-fantasma .data-grid,
.modo-fantasma .header {
    border: none !important;
    border-color: transparent !important;
    background-color: transparent !important;
    box-shadow: none !important;
}

/* Esconde os textos fixos (Labels e T√≠tulos) */
.modo-fantasma .label, 
.modo-fantasma .title-bar, 
.modo-fantasma .epi-header, 
.modo-fantasma .section-title,
.modo-fantasma .company-info,
.modo-fantasma .logo-area {
    visibility: hidden !important;
}

/* Garante que o que foi digitado (DADOS) continue aparecendo no lugar certo */
.modo-fantasma input {
    visibility: visible !important;
    color: black !important;
    border: none !important;
    background: transparent !important;
    font-weight: bold;
}

/* Remove o cinza das linhas da tabela */
.modo-fantasma .epi-item {
    background: transparent !important;
}

.page-none{
   visibility: visible;
}

.esconder-na-reimpressao{
    visibility: visible;
}



/* Corre√ß√£o para visualiza√ß√£o de impress√£o */
@media print {
    .no-print { display: none !important; }
    
    body { background: white !important; }

    /* For√ßa a folha a manter o tamanho A4 no papel */
    .page {
        display: block !important;
        visibility: visible !important;
        width: 297mm !important;
        height: 209mm !important;
        margin: 0 !important;
        padding: 5mm !important;
        page-break-after: always !important;
        overflow: hidden !important;
    }

    /* Se estiver em modo fantasma, remove o pontilhado da tela */
    .modo-fantasma {
        border: none !important;
    }

    /* Garante que a logo de fundo (marca d'√°gua) suma na reimpress√£o se desejar */
    .modo-fantasma.border-container::before {
        display: none !important;
    }
}

/* Garante que os inputs dentro de √°reas 'hidden' apare√ßam */
.modo-fantasma input, 
.modo-fantasma .page-none input {
    visibility: visible !important;
    display: block !important;
    opacity: 1 !important;
}


@media print {
    /* Mant√©m a p√°gina 2 com tamanho A4 mesmo vazia */
    #pagina-tabela {
        display: block !important;
        width: 297mm !important;
        height: 209mm !important;
    }

    /* Se for modo fantasma, apaga as linhas */
    .modo-fantasma, .modo-fantasma .border-container, .modo-fantasma * {
        border-color: transparent !important;
        background-color: transparent !important;
    }
}

/* Remove a logomarca de fundo (marca d'√°gua) na reimpress√£o */
.modo-fantasma .border-container::before {
    display: none !important;
    background-image: none !important;
    content: none !important;
}

/* Garante que qualquer outra imagem de fundo tamb√©m suma */
.modo-fantasma .border-container {
    background-image: none !important;
}



@media print {
    /* 1. Esconde absolutamente tudo que n√£o deve ser impresso */
    #pagina-1, .no-print, .modal-overlay { 
        display: none !important; 
        height: 0 !important;
        margin: 0 !important;
        padding: 0 !important;
    }

    /* 2. Reseta o Body para n√£o ter margens que empurrem o conte√∫do */
    body { 
        background: white !important; 
        margin: 0 !important;
        padding: 0 !important;
        width: 297mm !important;
        height: 209mm !important;
    }

    @page { 
        size: landscape; 
        margin: 0; /* Remove margens do navegador (cabe√ßalho/rodap√©) */
    }

    /* 3. Ajuste da Ficha 2 para ser a √öNICA folha */
    #pagina-tabela {
        display: block !important;
        position: absolute !important;
        top: 0 !important;
        left: 0 !important;
        width: 297mm !important;
        height: 209mm !important;
        margin: 0 !important;
        padding: 5mm !important; /* Mantenha o padding interno */
        overflow: hidden !important; /* Corta qualquer coisa que crie a 3¬™ folha */
        page-break-after: avoid !important;
        page-break-before: avoid !important;
        border: none !important;
    }

    /* 4. Remove o Logo Gigante e Bordas na Reimpress√£o */
    .modo-fantasma .border-container::before {
        display: none !important;
        content: none !important;
        background: none !important;
    }

    .modo-fantasma, .modo-fantasma .border-container, .modo-fantasma * {
        border-color: transparent !important;
        background-color: transparent !important;
        box-shadow: none !important;
    }
}
/* 1. Remove o Logo Gigante (Marca d'√°gua) */
.modo-fantasma .border-container::before {
    display: none !important;
    content: none !important;
    background-image: none !important;
}

/* 2. Remove o Logo da Logo-Area (se houver um <img> ou background) */
.modo-fantasma .logo-area, 
.modo-fantasma .logo-area img {
    visibility: hidden !important;
    opacity: 0 !important;
}

/* 3. Garante que qualquer borda ou linha de input suma */
.modo-fantasma input {
    border: none !important;
    background: transparent !important;
    outline: none !important;
}

/* 4. Remove a logo de fundo do container principal */
.modo-fantasma .border-container {
    background-image: none !important;
}
