:root { 
    --primary-green: #2e7d32; 
}

body { 
    font-family: 'Arial', sans-serif; 
    background: #525659; 
    margin: 0; 
    padding: 0; 
}

.page {     
    width: 297mm; 
    height: 209mm; 
    padding: 5mm; 
    margin: 10mm auto; 
    background: white; 
    box-sizing: border-box; 
    position: relative;
    overflow: hidden; 
}


.border-container { 
    border: 2px solid black; 
    height: 98%; 
    padding: 2px; 
    box-sizing: border-box; 
    display: flex; 
    flex-direction: column; 
}

/* Cabeﾃｧalho */
.header { 
    display: flex; 
    align-items: center; 
    border-bottom: 2px solid black; 
    padding-bottom: 5px; 
}

.logo-area { 
    width: 25%; 
    text-align: center; 
    border-right: 2px solid black; 
}

.logo-area img { width: 100%; }

.company-info { 
    width: 55%; 
    padding-left: 15px; 
    font-size: 11px; 
    line-height: 1.2; 
    border-right: 2px solid black; 
}

.foto-area { 
    width: 30%; 
    display: flex; 
    justify-content: center; 
    align-items: center; 
    gap: 15px; 
}

.foto-3x4 { 
    width: 30mm; 
    height: 40mm; 
    border: 1px solid black; 
    background: #f0f0f0; 
    display: flex; 
    align-items: center; 
    justify-content: center; 
    overflow: hidden; 
}

.foto-3x4 img { 
    width: 100%; 
    height: 100%; 
    object-fit: cover; 
}

.title-bar { 
    background: var(--primary-green); 
    color: white; 
    text-align: center; 
    padding: 5px; 
    font-weight: bold; 
    font-size: 13px; 
    margin: 5px 0; 
}

/* Conteﾃｺdo e Legislaﾃｧﾃ｣o */
.content-flex { 
    display: flex; 
    gap: 15px; 
    flex-grow: 1; 
    overflow: hidden; 
    margin-top: 5px; 
}

.termo-box { 
    width: 50%; 
    font-size: 16px; 
    text-align: justify; 
    line-height: 1.3; 
    border-right: 1px solid #ccc; 
    padding-right: 10px; 
}

.legislacao-box { 
    width: 50%; 
    font-size: 19px; 
    text-align: justify; 
    line-height: 1.2; 
}

.section-title { 
    font-weight: bold; 
    text-align: center; 
    display: block; 
    margin-bottom: 4px; 
    text-decoration: underline; 
}

.clt-highlight { 
    background: #fffde7; 
    padding: 5px; 
    border: 1px solid #d4d4d4; 
    margin-top: 5px; 
    font-weight: bold; 
    font-size: 10px; 
}

/* Rodapﾃｩ e Assinatura */
.footer { 
    display: flex; 
    justify-content: space-between; 
    align-items: flex-end; 
    padding: 10px 20px; 
    gap: 20px;
}

.ciente-box {
    width: 30%;
    font-size: 12px;
}

.sig-container {
    width: 50%;
    text-align: center;
    display: flex;
    flex-direction: column;
    align-items: center;
}

.sig-line {
    border-top: 1.5px solid black;
    width: 100%;
    margin-bottom: 5px;
}

#nome-assinatura {
    font-size: 13px;
    font-weight: bold;
    text-transform: uppercase;
}

/* Interface de Controle (Nﾃ｣o sai na impressﾃ｣o) */
.no-print { 
    background: #1e272e; 
    color: white; 
    padding: 15px; 
    text-align: center; 
}

/* Grid de Dados do Colaborador */
.data-grid { 
    display: grid; 
    grid-template-columns: 1fr 1fr; 
    border-top: 2px solid black;
    border-left: 2px solid black;
    margin-bottom: 8px;
}

.grupo-tree { display: flex; }
.grupo-tree .cell { width: 100%; }

.cell { 
    border-right: 2px solid black; 
    border-bottom: 2px solid black; 
    padding: 2px; 
    display: flex; 
    align-items: center; 
    gap: 10px; 
    height: 25px;
}

.label { 
    font-weight: bold; 
    font-size: 10px; 
    white-space: nowrap; 
}

input { 
    flex: 1; 
    border: none; 
    font-size: 13px; 
    font-weight: bold; 
    outline: none; 
    height: 100%; 
    padding: 0 5px;
}

/* Cores especﾃｭficas dos campos */
#c-nome, #c2-nome { width: 100%; background-color: black; color: white; text-align: center; }
#c-funcao, #c2-funcao { background-color: red; color: black; }
#c-setor, #c2-setor { background-color: black; color: white; }

/* Tabela de EPIs (Pﾃ｡gina 2) */
.page-break { page-break-before: always; margin-top: 30px; }

.epi-container {
    border: 2px solid black;
    padding: 5px;
    height: 100%;
    display: flex;
    flex-direction: column;
}

.epi-table {
    display: grid;
    grid-template-columns: 80px 100px 250px 50px 120px 80px 100px 1fr;
    border-top: 2px solid black;
    border-left: 2px solid black;
    margin-top: 10px;
    background-color: white;
    width: 100%;
    box-sizing: border-box;
}

.epi-header {
    background-color: #d3d3d3;
    color: black;
    font-weight: bold;
    font-size: 10px;
    text-align: center;
    border-right: 1px solid black;
    border-bottom: 2px solid black;
    padding: 6px 2px;
    display: flex;
    align-items: center;
    justify-content: center;
    text-transform: uppercase;
}

.epi-item {
    border-right: 1px solid black;
    border-bottom: 1px solid black;
    padding: 0px;
    font-size: 10px;
    min-height: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.epi-item select, .epi-item input {
    width: 100%;
    height: 100%;
    border: none;
    background: transparent !important;
    font-size: 9px;
    text-align: center;
    outline: none;
}

.epi-item input.text-left {
    text-align: left;
    padding-left: 5px;
}

/* Zebrado da tabela */
.epi-item:nth-of-type(16n+9), 
.epi-item:nth-of-type(16n+10), 
.epi-item:nth-of-type(16n+11), 
.epi-item:nth-of-type(16n+12), 
.epi-item:nth-of-type(16n+13), 
.epi-item:nth-of-type(16n+14), 
.epi-item:nth-of-type(16n+15), 
.epi-item:nth-of-type(16n+16) {
    background-color: #f2f2f2 !important;
}


/* --- RESET E VARIﾃ〃EIS --- */
:root {
    --primary-green: #2e7d32;
    --dark-panel: #1e272e;
}

/* --- INTERFACE DE CONTROLE (NO-PRINT) --- */
.no-print {
    background: var(--dark-panel);
    padding: 15px;
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    justify-content: center;
    position: sticky    ;
    top: 0;
    z-index: 9999;
}

.no-print input, .no-print select, .no-print button {
    height: 45px;
    border-radius: 8px;
    border: 1px solid #3d4d5a;
    background: #2c3e50;
    color: white;
    padding: 0 12px;
    font-size: 14px;
}

.no-print button {
    background: var(--primary-green);
    font-weight: bold;
    border: none;
    cursor: pointer;
}



.border-container {
    position: relative; /* Necessﾃ｡rio para posicionar a logo atrﾃ｡s */
    z-index: 1;
}

.border-container::before {
    content: "";
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%); /* Centraliza perfeitamente */
    width: 1000px; /* Tamanho da logo no fundo */
    height: 1000px;
    background-image: url('./uploads/logo.png'); /* Caminho da sua logo */
    background-repeat: no-repeat;
    background-position: center;
    background-size: contain;
    opacity: 0.1; /* Deixa a logo bem clarinha (0.1 a 0.2 ﾃｩ o ideal) */
    z-index: -1; /* Joga para trﾃ｡s de todo o texto e inputs */
    pointer-events: none; /* Garante que ela nﾃ｣o atrapalhe os cliques nos campos */
}


.modal-overlay {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background: rgba(0,0,0,0.7); z-index: 10000;
    display: flex; justify-content: center; align-items: center;
}
.modal-content {
    background: white; padding: 20px; border-radius: 12px;
    width: 90%; max-width: 500px; color: black; box-shadow: 0 10px 25px rgba(0,0,0,0.5);
}
.modal-header { display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #ddd; margin-bottom: 10px; }
.modal-body { font-size: 14px; line-height: 1.6; max-height: 400px; overflow-y: auto; }
.info-item { margin-bottom: 8px; border-bottom: 1px solid #f0f0f0; padding-bottom: 4px; }
.info-label { font-weight: bold; color: var(--primary-green); }






/* Ajuste especﾃｭfico para os campos ficarem transparentes e a logo aparecer */

/* --- COMPORTAMENTO NO MOBILE (SOLUﾃﾃグ DEFINITIVA) --- */
@media (max-width: 768px) {
    /* 1. Esconde a ficha tﾃｩcnica complexa que quebra o layout */
    .page {
        display: none !important; 
    }

    /* 2. Cria um aviso ou modo de exibiﾃｧﾃ｣o simples para conferﾃｪncia */
    body::after {
        content: "塘 Modo de Visualizaﾃｧﾃ｣o Mobile: Selecione o colaborador acima. A ficha completa serﾃ｡ gerada no botﾃ｣o IMPRIMIR.";
        display: block;
        padding: 40px 20px;
        color: white;
        text-align: center;
        font-weight: bold;
        line-height: 1.6;
    }

    /* 3. Ajusta os controles para ocupar a tela toda */
    .no-print {
        flex-direction: column;
        height: auto;
    }
    
    .no-print > * {
        width: 100% !important;
    }

    /* 4. Mostra apenas os campos essenciais para conferﾃｪncia se desejar */
    body {
        background: #2f3542;
        overflow-x: hidden;
    }
}



/* MODO REIMPRESSﾃグ: Mantﾃｩm o papel A4, mas limpa o desenho */
.modo-fantasma {
    background: white !important; /* Mantﾃｩm o fundo da folha branco */
    border: 1px dashed #ccc !important; /* Uma borda fina sﾃｳ para vocﾃｪ ver o limite da folha na tela */
}

/* Esconde todas as bordas de tabelas, cﾃｩlulas e containers */
.modo-fantasma, 
.modo-fantasma .border-container, 
.modo-fantasma .epi-table, 
.modo-fantasma .epi-item, 
.modo-fantasma .cell, 
.modo-fantasma .data-grid,
.modo-fantasma .header {
    border: none !important;
    border-color: transparent !important;
    background-color: transparent !important;
    box-shadow: none !important;
}

/* Esconde os textos fixos (Labels e Tﾃｭtulos) */
.modo-fantasma .label, 
.modo-fantasma .title-bar, 
.modo-fantasma .epi-header, 
.modo-fantasma .section-title,
.modo-fantasma .company-info,
.modo-fantasma .logo-area {
    visibility: hidden !important;
}

/* Garante que o que foi digitado (DADOS) continue aparecendo no lugar certo */
.modo-fantasma input {
    visibility: visible !important;
    color: black !important;
    border: none !important;
    background: transparent !important;
    font-weight: bold;
}

/* Remove o cinza das linhas da tabela */
.modo-fantasma .epi-item {
    background: transparent !important;
}

.page-none{
   visibility: visible;
}

.esconder-na-reimpressao{
    visibility: visible;
}




/* Garante que os inputs dentro de ﾃ｡reas 'hidden' apareﾃｧam */
.modo-fantasma input, 
.modo-fantasma .page-none input {
    visibility: visible !important;
    display: block !important;
    opacity: 1 !important;
}

/* Remove a logomarca de fundo (marca d'ﾃ｡gua) na reimpressﾃ｣o */
.modo-fantasma .border-container::before {
    display: none !important;
    background-image: none !important;
    content: none !important;
}

/* Garante que qualquer outra imagem de fundo tambﾃｩm suma */
.modo-fantasma .border-container {
    background-image: none !important;
}



/* 1. Remove o Logo Gigante (Marca d'ﾃ｡gua) */
.modo-fantasma .border-container::before {
    display: none !important;
    content: none !important;
    background-image: none !important;
}

/* 2. Remove o Logo da Logo-Area (se houver um <img> ou background) */
.modo-fantasma .logo-area, 
.modo-fantasma .logo-area img {
    visibility: hidden !important;
    opacity: 0 !important;
}

/* 3. Garante que qualquer borda ou linha de input suma */
.modo-fantasma input {
    border: none !important;
    background: transparent !important;
    outline: none !important;
}

/* 4. Remove a logo de fundo do container principal */
.modo-fantasma .border-container {
    background-image: none !important;
}

.tabela-epis {
    width: 100%;
    border-collapse: collapse;
    height: 150mm; /* Ajuste essa altura conforme o espaﾃｧo disponﾃｭvel entre o cabeﾃｧalho e o rodapﾃｩ */
    table-layout: fixed;
}

/* Faz com que cada linha da tabela tenha uma altura mﾃｭnima para preencher o papel */
.tabela-epis tr {
    height: 7.2mm; /* Altura aproximada para 20 linhas caberem em 145mm */
}

/* Garante que todos os inputs da tabela de EPIs estejam centralizados */
.epi-item input {
    width: 100%;
    height: 100%;
    border: none;
    background: transparent !important;
    font-size: 9px;
    text-align: center; /* Centraliza o texto horizontalmente */
    outline: none;
    display: block;
    align-items: center;
    justify-content: center;
}

/* Caso queira que a descriﾃｧﾃ｣o continue alinhada ﾃ esquerda para facilitar leitura, 
   mantenha a classe abaixo, ou remova-a se quiser centralizar TUDO */
.epi-item input.text-left {
    text-align: center; /* Mude de left para center */
    padding-left: 0;
}

/* ============================================================
   CONSOLIDAﾃﾃグ DE IMPRESSﾃグ - VERSﾃグ FINAL (SEM FOLHA EM BRANCO)
   ============================================================ */
@media print {
    /* 1. Configuraﾃｧﾃｵes de Papel */
    @page { 
        size: landscape; 
        margin: 0; 
    }

    /* ESSENCIAL: Forﾃｧa o navegador a nﾃ｣o ignorar as cores */
    * {
        -webkit-print-color-adjust: exact !important;
        print-color-adjust: exact !important;
    }

    body { 
        background: white !important; 
        margin: 0 !important;
        padding: 0 !important;
    }

    .no-print, .modal-overlay, #modalInfo, #controles, button { 
        display: none !important; 
    }

    /* 2. Definiﾃｧﾃ｣o das Fichas */
    .page {
        width: 297mm !important;
        margin: 0 !important;
        padding: 5mm !important;
        position: relative !important;
        overflow: hidden !important;
        height: 209mm !important;
        display: flex !important;
        flex-direction: column !important;
        justify-content: space-between !important;
    }

   

    /* Quebra de pﾃ｡gina apenas entre a 1 e a 2 */
    #pagina-1 { page-break-after: always !important; }
    #pagina-tabela { page-break-after: avoid !important; }

    /* 3. Cores Fixas (Preto) */
    #c-setor, #c2-setor, #c-nome, #c2-nome {
        background-color: black !important;
        color: white !important;
    }

    /* 4. FUNﾃﾃグ (DINﾃMICA) - Onde estava o problema */
    #c-funcao, #c2-funcao {
        /* Usa as variﾃ｡veis que o JS criou */
        background-color: var(--cor-bg-funcao) !important;
        color: var(--cor-txt-funcao) !important;
        border: none !important;
    }

    /* 5. Inputs da tabela e dados */
    input {
        color: black !important;
        background: transparent !important;
        border: none !important;
    }

    /* Forﾃｧa texto branco nos campos coloridos */
    #c-setor, #c2-setor, #c-nome, #c2-nome {
        color: white !important;
    }

    /* 6. Modo Reimpressﾃ｣o */
    .reimpressao-ativa #pagina-1 { display: none !important; }
}

/* Ajuste visual no ecrﾃ｣ para o campo Setor */
#c-setor, #c2-setor {
    background-color: black !important;
    color: white !important;
    text-align: center;
    font-weight: bold;
}
